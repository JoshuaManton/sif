#include "basic.sif"

// todo(josh): test what happens when caller doesn't pass parameters

// struct Foo!($T: typeid) {
//     var data: T;
// }

proc value_poly($a: int) : int {
    return a * a;
}

proc type_poly(a: $T) : T {
    return a * a;
}

proc value_and_type_poly($a: $T) : T {
    return a * a;
}

proc main() {
    // var poly_struct: Foo!(float);

    print_int(value_poly(2));

    print_int(type_poly(3));
    print_float(type_poly(4.0));
    var a: int = 5;
    var f: float = 6;
    print_int(type_poly(a));
    print_float(type_poly(f));

    print_int(value_and_type_poly(7));
    print_float(value_and_type_poly(8.0));
}
