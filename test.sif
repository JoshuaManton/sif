#include "core:basic.sif"
#include "core:string_builder.sif"
#include "core:json.sif"

struct Foo {
    var a: int;
    var b: string;
    var c: float;
    var d: bool;
}

proc do_thing(using foo: Foo) {
    a = 123;
    b = "asd";
    printa(foo);
}

proc main() : i32 {
    {
        var foo: Foo;
        using foo;
        a = 123;
        b = "asd";
        printa(foo);
    }
    {
        using var foo: Foo;
        a = 321;
        b = "qwe";
        printa(foo);
    }
    do_thing({567, "fjak", 1.2, true});
    return 0;
}
