#include "basic.sif"
#include "dynamic_array.sif"

// todo(josh): test what happens when caller doesn't pass parameters

// proc value_poly($a: int) : int {
//     return a * a;
// }

// proc type_poly(a: $T) : T {
//     return a * a;
// }

// proc value_and_type_poly($a: $T) : T {
//     return a * a;
// }

struct Foo!($T: typeid, $wowza: int) {
    var data: T;
    var arr: [wowza]int;
}

// proc thing(foo: ^Foo!($T, $W)) {
//     var a = W;
//     print_int(foo.arr[4]);
// }

proc main() {
    var dyn: Dynamic_Array!(int);
    append(&dyn, 123);
    append(&dyn, 456);
    append(&dyn, 789);
    print_int(dyn[1]);
}
